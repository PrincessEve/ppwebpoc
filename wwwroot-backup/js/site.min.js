function renderPartials(){$.get("menu.html",function(t){$("#menu").append(t)}),$.get("footer.html",function(t){$("#footer").append(t)})}function addrow(t,e){var a='<div id="row'+e+'" class="row edit-row"><div class="col-sm-12 edit-col"><div class="edit-content"></div></div><button type="button" class="btn btn-success pull-right edit-botton-add-col clearfix"><i class="fa fa-columns" aria-hidden="true"></i></button></div>';t.append(a)}var editrows=[];$("#button-add-row").off("click").on("click",function(){editrows.push([12]),addrow($("#container-edit"),editrows.length)});function dragMoveListener(t){var e=t.target,a=(parseFloat(e.getAttribute("data-x"))||0)+t.dx,r=(parseFloat(e.getAttribute("data-y"))||0)+t.dy;e.style.webkitTransform=e.style.transform="translate("+a+"px, "+r+"px)",e.setAttribute("data-x",a),e.setAttribute("data-y",r)}var startPos={x:0,y:0},widgetBoxPos=null,isInside=!1;interact("#widget-box").draggable({allowFrom:"#widget-box-bar",inertia:!0,restrict:{restriction:"parent",endOnly:!0,elementRect:{top:0,left:0,bottom:1,right:1}},autoScroll:!0,onmove:dragMoveListener,onend:function(t){}}),interact(".widget").draggable({inertia:!0,snap:{targets:[startPos],range:1/0,relativePoints:[{x:.5,y:.5}],endOnly:!0},restrict:{restriction:"#container-outer",endOnly:!0,elementRect:{top:0,left:0,bottom:1,right:1}},autoScroll:!0,onstart:function(t){var e=interact.getElementRect(t.target);startPos.x=e.left+e.width/2,startPos.y=e.top+e.height/2,t.interactable.draggable({snap:{targets:[startPos]}})},onmove:dragMoveListener,onend:function(t){}}),interact(".dropzone").dropzone({accept:".widget",overlap:.8,ondropactivate:function(t){t.target.classList.add("drop-active")},ondragenter:function(t){var e=t.target,a=interact.getElementRect(e),r={x:a.left+a.width/2,y:a.top+a.height/2};t.draggable.draggable({snap:{targets:[r]}}),isInside=!0,widgetBoxPos=startPos;var o=t.relatedTarget;e.classList.add("drop-target"),o.classList.add("can-drop")},ondragleave:function(t){t.draggable.draggable({snap:!1}),t.draggable.draggable({snap:{targets:[startPos]}}),isInside=!1,t.target.classList.remove("drop-target"),t.relatedTarget.classList.remove("can-drop")},ondrop:function(t){},ondropdeactivate:function(t){var e=t.target,a=t.relatedTarget;if(isInside){var r=$(e).data("editRow").toString(),o=$(a).data("widgetType");a.parentNode.innerHTML='<div class="widget" data-widget-type="'+o+'">'+o+"</div>",$(a).remove();r.split("|").forEach(function(t){console.log(t)}),"12"==r&&($(e).data("editRow","6|6"),$(e).append('<div class="col-sm-6">'+o+"</div>"),$(e).append('<div class="col-sm-6">'+o+"</div>"))}}});